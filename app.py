from flask import Flask, request, render_template
from flask_cors import cross_origin
import pandas as pd
import sklearn
import pickle

# Create Instance of Flask Class
app = Flask(__name__)
model = pickle.load(open('RFmodel.pkl', 'rb'))

@app.route("/")
@cross_origin()
def home():
    return render_template("home.html")


@app.route('/predict', methods=['GET', 'POST'])
@cross_origin()
def predict():
    if request.method == "POST":

        # Get the input from the user
        date = request.form['DateTime']
        Day = int(pd.to_datetime(date, format="%Y-%m-%dT%H:%M").day)
        Month = int(pd.to_datetime(date, format="%Y-%m-%dT%H:%M").month)
        Year = int(pd.to_datetime(date, format="%Y-%m-%dT%H:%M").year)
        Hour = int(pd.to_datetime(date, format="%Y-%m-%dT%H:%M").hour)
        city = request.form['city']

        if(city == "Vancouver"):
            City_Vancouver = 1
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Portland"):
            City_Vancouver = 0
            City_Portland=1
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Seattle"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=1
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Los Angeles"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=1
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "San Diego"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=1
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Las Vegas"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=1
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Phoenix"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=1
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Albuquerque"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=1
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Denver"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=1
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "San Antonio"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=1
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Dallas"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=1
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Houston"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=1
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Kansas City"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=1
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        
        elif(city == "Minneapolis"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=1
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Saint Louis"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=1
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Chicago"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=1
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Nashville"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=1
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Indianapolis"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=1
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Atlanta"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=1
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Detroit"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=1
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Jacksonville"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=1
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Charlotte"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=1
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Miami"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=1
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Pittsburgh"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=1
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Toronto"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=1
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Philadelphia"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=1
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "New York"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=1
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Montreal"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=1
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Boston"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=1
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Beersheba"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=1
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Tel Aviv District"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=1
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Eilat"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=1
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=0
        elif(city == "Haifa"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=1
            City_Nahariyya=0
            City_Jerusalem=0

        elif(city == "Nahariyya"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=1
            City_Jerusalem=0
        elif(city == "Jerusalem"):
            City_Vancouver = 0
            City_Portland=0
            City_San_Francisco=0
            City_Seattle=0
            City_Los_Angeles=0
            City_San_Diego=0
            City_Las_Vegas=0
            City_Phoenix=0
            City_Albuquerque=0
            City_Denver=0
            City_San_Antonio=0
            City_Dallas=0
            City_Houston=0
            City_Kansas_City=0
            City_Minneapolis=0
            City_Saint_Louis=0
            City_Chicago=0
            City_Nashville=0
            City_Indianapolis=0
            City_Atlanta=0
            City_Detroit=0
            City_Jacksonville=0
            City_Charlotte=0
            City_Miami=0
            City_Pittsburgh=0
            City_Toronto=0
            City_Philadelphia=0
            City_New_York=0
            City_Montreal=0
            City_Boston=0
            City_Beersheba=0
            City_Tel_Aviv_District=0
            City_Eilat=0
            City_Haifa=0
            City_Nahariyya=0
            City_Jerusalem=1

        # Create a dataframe with the input
        # input_variables = pd.DataFrame([[day, month, year, hour, city]], columns=["day", "month", "year", "hour", "city"], dtype=float, index=["input"])
        predictions = model.predict([[Day, Month, Year, Hour, City_Vancouver, City_Portland, City_San_Francisco, City_Seattle, City_Los_Angeles, City_San_Diego, City_Las_Vegas, City_Phoenix, City_Albuquerque, City_Denver, City_San_Antonio, City_Dallas, City_Houston, City_Kansas_City, City_Minneapolis, City_Saint_Louis, City_Chicago, City_Nashville, City_Indianapolis, City_Atlanta, City_Detroit, City_Jacksonville, City_Charlotte, City_Miami, City_Pittsburgh, City_Toronto, City_Philadelphia, City_New_York, City_Montreal, City_Boston, City_Beersheba, City_Tel_Aviv_District, City_Eilat, City_Haifa, City_Nahariyya, City_Jerusalem]])
        print(predictions)
        output=round(predictions[0],2)
        return render_template('home.html', prediction_text="The Temperature is: {}".format(output))
    
    return render_template("home.html")

if __name__ == "__main__":
    app.run(debug=True)

